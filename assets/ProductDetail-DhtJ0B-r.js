import{x as se,y as ie,z as ce,a as l,o as m,e as k,w as t,b as e,T as de,d as o,g as f,t as C,A as ue,B as re,C as me,_ as _e,u as ve,s as G,D as pe,r as S,E as fe,G as ge,H as we,c as V,j as A,F as h,p as H,k as p,f as $}from"./index-DRSQerLO.js";import{u as xe}from"./cart-CmP0UG6D.js";const be={__name:"AlertDialog",props:se(re({title:String,transition:String,icon:String,type:String},{title:"",transition:"",icon:"",type:""}),{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const c=ie(d,"modelValue"),g={success:"animate__animated animate__fadeInUp",info:"animate__animated animate__zoomIn",warning:"animate__animated animate__tada",error:"animate__animated  animate__tada"},v=ce(()=>g[d.type]);return(x,D)=>{const q=l("v-icon"),M=l("v-card-title"),r=l("v-card-text"),b=l("v-card"),_=l("v-dialog");return m(),k(_,{modelValue:c.value,"onUpdate:modelValue":D[0]||(D[0]=I=>c.value=I),maxWidth:"400",class:"text-center mx-auto",transition:d.transition,opacity:"0.15"},{default:t(()=>[e(b,{rounded:"0",class:"pa-4"},{default:t(()=>[e(r,null,{default:t(()=>[e(de,{appear:"","enter-active-class":o(v)},{default:t(()=>[e(q,{class:"mb-3",icon:d.icon,size:"75"},null,8,["icon"])]),_:1},8,["enter-active-class"]),e(M,{class:"font-weight-bold"},{default:t(()=>[f(C(d.title),1)]),_:1}),ue(x.$slots,"content")]),_:3})]),_:3})]),_:3},8,["modelValue","transition"])}}};function L(d){const c=me(d);function g(v){c.value=v}return[c,g]}const ye={class:"silde-wrap order-lg-1 order-2"},Ve={class:"d-flex justify-space-between align-center"},he={__name:"ProductDetail",props:{id:String},setup(d){const{mdAndDown:c}=ve(),{productsData:g}=G(pe()),{cartItems:v}=G(xe()),[x,D]=L(!1),[q,M]=L(!0),r=S({}),b=S(""),_=S(null),I=S([]),i=fe({color:"",size:"",quantity:1,price:""});ge(()=>{const s=g.value.find(n=>n.id==d.id);r.value=s,b.value=r.value.img,W()});function W(){const n=g.value.filter(u=>u.id!==d.id).sort(()=>Math.random()).slice(0,8);I.value=n}function J(s){b.value=s}function K(s){i.color=s}function Q(s){i.size=s}function X(s){let n=null;return v.value.forEach(u=>{u.color===s.color&&u.size===s.size&&(n=u.id)}),n}function Y(){const{title:s,img:n,price:u}=r.value;i.price=u;const w={id:`${d.id}-${i.size}-${i.color}`,title:s,img:n,...i},z=X(w);if(z){const y=v.value.find(U=>U.id===z);y.quantity+=w.quantity}else v.value.push(w);i.quantity=1,D(!0)}return we(()=>[i.color,i.size],([s,n])=>{!s||!n||M(!1)}),(s,n)=>{const u=l("v-card"),T=l("v-slide-group-item"),w=l("v-slide-group"),z=l("v-img"),y=l("v-col"),U=l("v-card-title"),N=l("v-list-item"),R=l("v-list"),Z=l("v-number-input"),ee=l("v-btn"),E=l("v-card-text"),O=l("v-divider"),P=l("v-tab"),te=l("v-tabs"),j=l("v-sheet"),F=l("v-tabs-window-item"),ne=l("v-tabs-window"),ae=l("v-row"),oe=l("v-container"),le=be;return m(),V(h,null,[e(oe,{class:"pa-0 pa-md-4"},{default:t(()=>[e(ae,null,{default:t(()=>[e(y,{cols:"12",md:"7",lg:"6","offset-xl":"1",class:H(["d-flex",[o(c)?"flex-column":"align-center"]])},{default:t(()=>[p("div",ye,[e(w,{class:"pa-4","selected-class":"bg-success","show-arrows":"",direction:o(c)?"horizontal":"vertical","next-icon":o(c)?"mdi-menu-right":"mdi-menu-down","prev-icon":o(c)?"mdi-menu-left":"mdi-menu-up"},{default:t(()=>[(m(!0),V(h,null,$(o(r).imgs,a=>(m(),k(T,{key:a},{default:t(()=>[e(u,{class:"mx-4 my-2 object-fit",color:"grey-lighten-1",height:o(c)?150:120,width:o(c)?120:100,image:a,onClick:B=>J(a)},null,8,["height","width","image","onClick"])]),_:2},1024))),128))]),_:1},8,["direction","next-icon","prev-icon"])]),e(z,{src:o(b),class:"order-lg-2 order-1",cover:""},null,8,["src"])]),_:1},8,["class"]),e(y,{cols:"12",md:"5",lg:"4",class:"ps-md-16"},{default:t(()=>[e(u,{flat:"",class:"pt-md-12"},{default:t(()=>[e(U,{class:"d-flex justify-space-between flex-wrap"},{default:t(()=>[f(C(o(r).title)+" ",1),p("span",null,"NT. "+C(o(r).price),1)]),_:1}),e(E,null,{default:t(()=>[p("div",Ve,[e(R,{class:"d-flex"},{default:t(()=>[(m(!0),V(h,null,$(o(r).colors,({title:a,value:B})=>(m(),k(N,{key:a,value:a,class:"px-2",active:o(i).color===a,"active-class":"border-sm",onClick:ke=>K(a)},{default:t(()=>[p("div",{class:H(["color-wrap",`bg-${B}`])},null,2)]),_:2},1032,["value","active","onClick"]))),128))]),_:1}),p("span",null,C(o(i).color),1)]),e(R,{class:"d-flex mb-4"},{default:t(()=>[(m(!0),V(h,null,$(o(r).size,a=>(m(),k(N,{key:a,value:a,active:o(i).size===a,"active-class":"border-sm",onClick:B=>Q(a)},{default:t(()=>[f(C(a),1)]),_:2},1032,["value","active","onClick"]))),128))]),_:1}),e(Z,{"control-variant":"split",variant:"outlined",min:1,max:30,density:"comfortable",modelValue:o(i).quantity,"onUpdate:modelValue":n[0]||(n[0]=a=>o(i).quantity=a),rounded:"0"},null,8,["modelValue"]),e(ee,{text:"加入購物車",rounded:"0",variant:"flat",color:"black",class:"w-100",disabled:o(q),onClick:Y},null,8,["disabled"])]),_:1}),e(O,{class:"my-4"}),e(E,null,{default:t(()=>[e(te,{modelValue:o(_),"onUpdate:modelValue":n[1]||(n[1]=a=>A(_)?_.value=a:null)},{default:t(()=>[e(P,{value:"info"},{default:t(()=>n[4]||(n[4]=[f("商品資訊")])),_:1}),e(P,{value:"size-guide"},{default:t(()=>n[5]||(n[5]=[f("尺寸指南")])),_:1})]),_:1},8,["modelValue"]),e(ne,{modelValue:o(_),"onUpdate:modelValue":n[2]||(n[2]=a=>A(_)?_.value=a:null)},{default:t(()=>[e(F,{value:"info"},{default:t(()=>[e(j,{class:"pa-4"},{default:t(()=>n[6]||(n[6]=[f(" 商品資訊... ")])),_:1})]),_:1}),e(F,{value:"size-guide"},{default:t(()=>[e(j,{class:"pa-4"},{default:t(()=>n[7]||(n[7]=[f(" 尺寸指南... ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(O,{class:"my-4"}),e(y,{cols:"12"},{default:t(()=>[e(j,null,{default:t(()=>[n[8]||(n[8]=p("h6",{class:"text-h6"},"推薦商品",-1)),p("div",null,[e(w,{class:"py-4","show-arrows":o(c),"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left"},{default:t(()=>[(m(!0),V(h,null,$(o(I),a=>(m(),k(T,{key:a.id},{default:t(()=>[e(u,{class:"mx-4 my-2 object-fit",color:"grey-lighten-1",height:"250",width:"200",image:a.img},null,8,["image"])]),_:2},1024))),128))]),_:1},8,["show-arrows"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(le,{modelValue:o(x),"onUpdate:modelValue":n[3]||(n[3]=a=>A(x)?x.value=a:null),title:"商品已加入購物車",icon:"mdi:mdi-check-circle-outline",type:"success",transition:"scale-transition"},null,8,["modelValue"])],64)}}},Ie=_e(he,[["__scopeId","data-v-c59b318d"]]);export{Ie as default};
